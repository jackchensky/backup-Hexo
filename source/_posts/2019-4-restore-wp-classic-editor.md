---
title: 一句代码硬核恢复wordpress经典编辑器
date: 2019-04-04 00:06:39
categories: wordpress
tags: wordpress
---

![修复wordpress IP验证不当](http://img.jackchen.cn/pic-8.jpg)
## 前言
> 新的网站架设起来发现一个新的问题☝️，文章的编辑器和以前的完全不一样了。查了下才知道，wordpress5.0之后的版本默认的编辑器换成了全新的Gutenberg(古腾堡)区块编辑器。嗯，听起来挺酷的，看起来也很不错。然并卵！用起来还是极其不顺手，而且非常不符合中国人的编辑习惯。更重要的是新编辑器是区块来编辑文章的。如果是公司的产品文章都文档准备好了，都不好整篇的复制粘贴过去。更不要说后期复制到文章的图片，直接用插件远程抓取并保存在本地啦（插件肯定暂时不兼容这个编辑器的）！！果断研究下恢复为以前经典编辑器界面。

## 准备
网上有很多方法，最简单的就是直接下载个插件来禁掉古腾堡编辑器，But作为一个用了wordpress十几年写博客的人，可以负责任的告诉你插件装多了会让你的网站很臃肿哦！！还是用硬核代码的方法更直接有效吧~
> 其实之前经典的Classic Editor编辑器代码仍然保留在最新的版本中并没有删除。

<!--more-->
## 解决方法
#### 找到要修改的文件：
找到你现在使用中的wordrepss主题函数模板`functions.php`，这个文件一般在`你网站目下/wp-content/themes/你使用主题模板/functions.php`。你可以在网站的后台里修改这个文件，也可以用ftp远程下载到本地后修改再复制到服务器上。我这边是直接ssh远程直接在服务器上修改的。
#### 添加禁用代码：
将下面代码添加到`functions.php`中，即可切换回之前的编辑器，不需要任何插件。
```
add_filter('use_block_editor_for_post', '__return_false');
```
#### 禁用加载的样式代码：
禁用古腾堡区块编辑器后，前端还是会加载相关样式文件的，所以还需要附加上下面这句：
```
remove_action( 'wp_enqueue_scripts', 'wp_common_block_scripts_and_styles' );
```
当然作为一个☝️优秀的程序员👩‍💻(码农)，记得要在后面添加个注释，要有这个良好的习惯，防止以后忘记了~

## 总结
我相信Gutenberg(古腾堡)区块编辑器一定有着非常强大的功能，不然大神们也不会在5.0后完全默认加载他。但是如果你习惯了经典编辑器那也没关系，据说经典编辑器会延续集成版本中，一直到2021年才会彻底移除。到时候如果你还是不喜欢Gutenberg(古腾堡)区块编辑器，也没关系的，有全套的经典编辑器的插件安静的等着你滴😆 ...
